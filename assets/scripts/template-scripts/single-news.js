document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("load-more"),t=e.getAttribute("data-show-more"),s=e.getAttribute("data-show-less");let a=3;const l=document.querySelectorAll(".gallery-item"),n=l.length;let r=jQuery("#gallery").imagesLoaded((function(){r.masonry({itemSelector:".gallery-item",columnWidth:".gallery-item",percentPosition:!0}),r.masonry("layout")}));e.addEventListener("click",(function(){if("true"===e.getAttribute("data-expanded"))l.forEach(((e,t)=>{t>=3&&e.classList.add("visually-hidden")})),e.innerHTML=`<p class="gallary-section__last-btn-text">${t}</p><svg class="gallary-section__button-svg" width="16" height="15"><use href="${e.querySelector("svg use").getAttribute("href")}"></use></svg>`,e.setAttribute("data-expanded","false"),a=3;else{const t=document.querySelectorAll(".gallery-item.visually-hidden");for(let e=0;e<3&&e<t.length;e++)t[e].classList.remove("visually-hidden");a+=3,a>=n&&(e.innerHTML=`<p class="gallary-section__last-btn-text">${s}</p><svg class="gallary-section__button-svg" width="16" height="15"><use href="${e.querySelector("svg use").getAttribute("href")}"></use></svg>`,e.setAttribute("data-expanded","true"))}r.imagesLoaded().progress((function(){r.masonry("layout")}))})),window.addEventListener("resize",(function(){r.masonry("layout")})),r.imagesLoaded().progress((function(){r.masonry("layout")}))}));