document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("load-more"),t=e.getAttribute("data-show-more"),s=e.getAttribute("data-show-less");let a,l;const n=document.querySelectorAll(".gallery-item"),i=n.length;a=window.matchMedia("(min-width: 768px) and (max-width: 1024px)").matches?4:3,l=a,n.forEach(((e,t)=>{t<l?e.classList.remove("visually-hidden"):e.classList.add("visually-hidden")}));let o=jQuery("#gallery").imagesLoaded((function(){o.masonry({itemSelector:".gallery-item",columnWidth:".gallery-item",percentPosition:!0}),o.masonry("layout")}));e.addEventListener("click",(function(){if("true"===e.getAttribute("data-expanded"))n.forEach(((e,t)=>{t>=a&&e.classList.add("visually-hidden")})),e.innerHTML=`<p class="gallary-section__last-btn-text">${t}</p><svg class="gallary-section__button-svg" width="16" height="15"><use href="${e.querySelector("svg use").getAttribute("href")}"></use></svg>`,e.setAttribute("data-expanded","false"),l=a;else{const t=document.querySelectorAll(".gallery-item.visually-hidden");for(let e=0;e<3&&e<t.length;e++)t[e].classList.remove("visually-hidden");l+=3,l>=i&&(e.innerHTML=`<p class="gallary-section__last-btn-text">${s}</p><svg class="gallary-section__button-svg" width="16" height="15"><use href="${e.querySelector("svg use").getAttribute("href")}"></use></svg>`,e.setAttribute("data-expanded","true"))}o.imagesLoaded().progress((function(){o.masonry("layout")}))})),window.addEventListener("resize",(function(){o.masonry("layout")})),o.imagesLoaded().progress((function(){o.masonry("layout")}))}));