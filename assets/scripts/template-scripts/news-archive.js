jQuery(document).ready((function(e){e("#load-more").click((function(){let a=e(this),o=a.data("page")+1,n=a.data("max-page");a.addClass("loading"),e.ajax({url:myAjax.ajaxUrl,type:"POST",data:{action:"load_news_archive",page:o,nonce:myAjax.nonce},cache:!1,success:function(c){"no_more_posts"===e.trim(c)?a.hide():(e(".posts-section__wrapper").append(c),a.data("page",o),o>=n&&a.hide())},error:function(e,a,o){console.log("AJAX Error:",o)},complete:function(){a.removeClass("loading"),a.blur(),console.log("AJAX request complete")}})}))}));